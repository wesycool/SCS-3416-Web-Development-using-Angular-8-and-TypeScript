<!DOCTYPE html>
<html>
<head>
    <title></title>
	<meta charset="utf-8" />
    <script src="ajax-utils2.js"></script>
    <script>
        // Event handling
        document.addEventListener("DOMContentLoaded",
          function (event) {

              // Unobtrusive event binding
              document.querySelector("button")
                .addEventListener("click", function () {

                    // Call server to get the name
                    $ajaxUtils
                      .sendGetRequest("name.json",
                        function (res) {
                            var message =
                              res.firstName + " " + res.lastName
                            if (res.likesChineseFood) {
                                message += " likes Chinese food";
                            }
                            else {
                                message += " doesn't like Chinese food";
                            }
                            message += " and uses ";
                            message += res.numberOfDisplays + 1;
                            message += " displays for coding.";

                            document.querySelector("#content")
                              .innerHTML = "<h2>" + message + "</h2>";
                        });
                });
          }
        );
    </script>
</head>
<body>
    <h1 id="title">Json Example</h1>
    <p>
        <button>
            Say Something!
        </button>
    </p>
    <div id="content"></div>
</body>
</html>
